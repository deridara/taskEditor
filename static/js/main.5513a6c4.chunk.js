(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{192:function(t,e,n){t.exports=n(415)},217:function(t,e){},219:function(t,e){},250:function(t,e){},251:function(t,e){},299:function(t,e){},301:function(t,e){},324:function(t,e){},415:function(t,e,n){"use strict";n.r(e);var a={};n.r(a),n.d(a,"getTasks",function(){return U}),n.d(a,"setFilterOptions",function(){return K}),n.d(a,"createTask",function(){return N}),n.d(a,"default",function(){return J}),n.d(a,"stateSelector",function(){return L}),n.d(a,"tasksSelector",function(){return M}),n.d(a,"totalTaskCountSelector",function(){return Q}),n.d(a,"loadingSelector",function(){return V}),n.d(a,"filterOptionsSelector",function(){return X}),n.d(a,"getTasksSaga",function(){return $}),n.d(a,"createTaskSaga",function(){return q}),n.d(a,"saga",function(){return H});var r=n(1),c=n.n(r),o=n(186),i=n.n(o),u=n(29),l=n(30),s=n(32),p=n(31),d=n(33),f=n(55),m=n(15),g=n(7),b=n(44),h=n(8);function v(){var t=Object(g.a)(["\n  display: inline-block;\n  padding: 0 20px;\n  height: 30px;\n  color: white;\n  background: ",";\n  border-radius: 3px;\n  box-sizing: border-box;\n  text-align: center;\n  line-height: 30px;\n  cursor: pointer;\n  margin: 0 10px;\n\n  &:hover {\n    background: ",";\n  }\n\n  &:active {\n    background: ",";\n  }\n"]);return v=function(){return t},t}var x=h.a.div(v(),"#6ab6ec","#2f99e4","#1976d2"),O=n(34),j=n.n(O),k=n(191),E=n(23),S=n(73),y=n(45),C=(n(203),"https://uxcandy.com/~shapoval/test-task-backend"),T=function(t){var e=t.sortDirection,n=t.page,a=t.sortField,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"admin",c="".concat(e?"&sort_direction=".concat(e):"").concat(n?"&page=".concat(n):"").concat(a?"&sort_field=".concat(a):"");return fetch("".concat(C,"/?developer=").concat(r).concat(c)).then(function(t){return t.json()}).catch(function(t){return t})},F=function(t){return console.log("SERVICE",t),fetch("".concat(C,"/create"),{method:"POST",body:JSON.stringify(t)}).then(function(t){return console.log(t.json()),t.json()})},w=j.a.mark($),_=j.a.mark(q),D="".concat(y.a,"/").concat("tasks","/GET_TASKS_REQUEST"),A="".concat(y.a,"/").concat("tasks","/GET_TASKS_SUCCESS"),R="".concat(y.a,"/").concat("tasks","/GET_TASKS_ERROR"),z="".concat(y.a,"/").concat("tasks","/CREATE_TASK_REQUEST"),P="".concat(y.a,"/").concat("tasks","/CREATE_TASK_SUCCESS"),B="".concat(y.a,"/").concat("tasks","/CREATE_TASK_ERROR"),I="".concat(y.a,"/").concat("tasks","/SET_FILTER_OPTIONS"),U=function(t){return{type:D,payload:t}},K=function(t){return{type:I,payload:t}},N=function(t){return{type:z,payload:t}},G={tasks:[],totalTaskCount:0,filterOptions:{page:1,sortDirection:"asc",sortField:""},loading:!1};function J(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,e=arguments.length>1?arguments[1]:void 0,n=e.type,a=e.payload;switch(n){case D:return Object(m.a)({},t,{loading:!0});case A:return Object(m.a)({},t,{tasks:Object(k.a)(a.tasks),totalTaskCount:+a.total_task_count,loading:!1});case R:return Object(m.a)({},t,{loading:!1});case I:return Object(m.a)({},t,{filterOptions:Object(m.a)({},t.filterOptions,a)});case z:return Object(m.a)({},t,{loading:!0});case P:case B:return Object(m.a)({},t,{loading:!1});default:return t}}var L=function(t){return t.tasks},M=Object(S.createSelector)(L,function(t){return t.tasks}),Q=Object(S.createSelector)(L,function(t){return t.totalTaskCount}),V=Object(S.createSelector)(L,function(t){return t.loading}),X=Object(S.createSelector)(L,function(t){return t.filterOptions});function $(t){var e,n;return j.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e=t.payload,a.prev=1,a.next=4,Object(E.b)(T,e);case 4:return n=a.sent,a.next=7,Object(E.c)({type:A,payload:Object(m.a)({},n.message)});case 7:a.next=12;break;case 9:a.prev=9,a.t0=a.catch(1),Object(E.c)({type:R,error:a.t0});case 12:case"end":return a.stop()}},w,null,[[1,9]])}function q(t){var e,n;return j.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e=t.payload,a.prev=1,a.next=4,Object(E.b)(F,e);case 4:return n=a.sent,a.next=7,Object(E.c)({type:P,payload:Object(m.a)({},n.message)});case 7:a.next=12;break;case 9:a.prev=9,a.t0=a.catch(1),Object(E.c)({type:B,error:a.t0});case 12:case"end":return a.stop()}},_,null,[[1,9]])}var H=j.a.mark(function t(){return j.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(E.a)([Object(E.d)(D,$),Object(E.d)(z,q)]);case 2:case"end":return t.stop()}},t)});function W(){var t=Object(g.a)(["\n  height: 30px;\n  margin: 10px;\n  line-height: 30px;\n"]);return W=function(){return t},t}function Y(){var t=Object(g.a)(["\n  position: absolute;\n  color: red;\n  font-family: sans-serif;\n  top: 10px;\n  left: 500px;\n"]);return Y=function(){return t},t}function Z(){var t=Object(g.a)(["\n  height: 20px;\n  margin: 0 0 0 5px;\n"]);return Z=function(){return t},t}function tt(){var t=Object(g.a)(["\n  padding: 10px;\n  position: relative;\n"]);return tt=function(){return t},t}function et(){var t=Object(g.a)(["\n  display: inline-block;\n  margin: 0 5px;\n"]);return et=function(){return t},t}var nt=h.a.label(et()),at=h.a.div(tt()),rt=h.a.input(Z()),ct=h.a.div(Y()),ot=h.a.div(W()),it=function(t){function e(){var t,n;Object(u.a)(this,e);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(t=Object(p.a)(e)).call.apply(t,[this].concat(r)))).state={data:{},error:!1},n.handleChange=function(t){n.setState({data:Object(m.a)({},n.state.data,Object(f.a)({},t.target.name,t.target.value))})},n.handleSubmit=function(t){t.preventDefault();var e=n.state.data,a=e.name,r=e.password;a&&r?"admin"!==a||"123"!==r?n.setState({error:"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 (admin, 123)"}):(n.setState({error:!1}),localStorage.setItem("access","true")):n.setState({error:"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u043e\u043b\u044f"})},n.getForm=function(){return c.a.createElement(at,null,c.a.createElement(nt,null,"\u0418\u043c\u044f:",c.a.createElement(rt,{name:"name",onChange:n.handleChange})),c.a.createElement(nt,null,"\u041f\u0430\u0440\u043e\u043b\u044c:",c.a.createElement(rt,{name:"password",onChange:n.handleChange})),c.a.createElement(x,{type:"submit",onClick:n.handleSubmit},"\u0412\u0445\u043e\u0434"),n.state.error&&c.a.createElement(ct,null,n.state.error))},n.logOut=function(){localStorage.clear(),n.forceUpdate(),n.setState({data:{}})},n.getAdmin=function(){return c.a.createElement(c.a.Fragment,null,"admin",c.a.createElement(x,{onClick:n.logOut},"\u0412\u044b\u0439\u0442\u0438"))},n}return Object(d.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=localStorage.getItem("access");return console.log({access:t}),c.a.createElement(ot,null,t?this.getAdmin():this.getForm())}}]),e}(r.Component),ut=Object(b.b)(function(t){return{}},{createTask:N})(it);function lt(){var t=Object(g.a)(["\n    float: right;\n"]);return lt=function(){return t},t}function st(){var t=Object(g.a)(["\n  font-weight: 600;\n  margin: 10px 0;\n"]);return st=function(){return t},t}function pt(){var t=Object(g.a)(["\n  margin: 10px 0;\n"]);return pt=function(){return t},t}function dt(){var t=Object(g.a)(["\n  margin: 10px 0;\n  font-family: sans-serif;\n  font-weight: 100;\n"]);return dt=function(){return t},t}function ft(){var t=Object(g.a)(["\n  background: lightblue;\n  padding: 10px;\n  margin: 10px;\n"]);return ft=function(){return t},t}var mt=h.a.div(ft()),gt=h.a.div(dt()),bt=h.a.div(pt()),ht=h.a.div(st()),vt=h.a.label(lt()),xt=function(t){var e=t.record,n=e.email,a=e.username,r=e.text,o=e.status;return c.a.createElement(mt,null,c.a.createElement(vt,null,c.a.createElement("input",{type:"checkbox",checked:o,disabled:!localStorage.getItem("access")})," \u041f\u0440\u043e\u0432\u0435\u0440\u0435\u043d\u043e "),c.a.createElement(ht,null,a),c.a.createElement(gt,null,n),c.a.createElement(bt,null,r))};function Ot(){var t=Object(g.a)(["\n  display: inline-block;\n  line-height: 30px;\n  margin: 10px;\n"]);return Ot=function(){return t},t}function jt(){var t=Object(g.a)(["\n  display: inline-block;\n  height: 30px;\n  width: 30px;\n  border: 1px solid ",";\n  border-radius: 3px;\n  font-weight: 600;\n  color: ",";\n  background: ",";\n  cursor: pointer;\n  margin: 0 5px;\n  line-height: 30px;\n  text-align: center;\n\n  &:hover {\n    background: ",";\n    color: white;\n  }\n"]);return jt=function(){return t},t}function kt(){var t=Object(g.a)(["\n  margin: 10px;\n"]);return kt=function(){return t},t}var Et=h.a.div(kt()),St=h.a.div(jt(),"#6ab6ec",function(t){return t.active?"white":"#1976d2"},function(t){return t.active?"#6ab6ec":"white"},"#6ab6ec"),yt=h.a.form(Ot()),Ct=function(t){function e(){var t,n;Object(u.a)(this,e);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(t=Object(p.a)(e)).call.apply(t,[this].concat(r)))).state={sortField:""},n.getSortDirectionButtons=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(St,{onClick:n.onDirectionButtonClick("asc"),active:"asc"===n.props.sortDirection},"\u25b3"),c.a.createElement(St,{onClick:n.onDirectionButtonClick("desc"),active:"desc"===n.props.sortDirection},"\u25bd"))},n.onDirectionButtonClick=function(t){return function(){n.props.onFilterChange({sortDirection:t}),n.props.getTasks({sortDirection:t,page:n.props.page,sortField:n.props.sortField})}},n.getSortFieldSelector=function(){return c.a.createElement(yt,null,"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e"," ",c.a.createElement("select",{name:"sort",onChange:n.onSortFormChange},c.a.createElement("option",{value:"id"},"id"),c.a.createElement("option",{value:"username"},"username"),c.a.createElement("option",{value:"email"},"email"),c.a.createElement("option",{value:"status"},"status")),c.a.createElement(x,{onClick:n.handleSortFormSubmit},"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"))},n.onSortFormChange=function(t){var e=t.target.value;n.setState({sortField:e}),n.props.onFilterChange({sortField:e})},n.handleSortFormSubmit=function(){var t=n.props,e=t.getTasks,a=t.onFilterChange,r=t.page,c=t.sortDirection,o=n.state.sortField;a({sortField:o}),e({sortDirection:c,page:r,sortField:o})},n}return Object(d.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return c.a.createElement(Et,null,this.getSortDirectionButtons(),this.getSortFieldSelector())}}]),e}(r.Component);function Tt(){var t=Object(g.a)(["\n  display: inline-block;\n  height: 30px;\n  width: 30px;\n  margin: 0 5px;\n  line-height: 30px;\n  text-align: center;\n  border-radius: 3px;\n  border: 1px solid ",";\n  background: ",";\n  cursor: pointer;\n\n  &:hover {\n    background: ",";\n  }\n"]);return Tt=function(){return t},t}function Ft(){var t=Object(g.a)(["\n  margin: 10px;\n  float: right;\n"]);return Ft=function(){return t},t}function wt(){var t=Object(g.a)(["\n  content: 'Loading...';\n  width: 100%;\n  text-align: center;\n  margin: 50px;\n"]);return wt=function(){return t},t}h.a.div(wt());var _t=h.a.div(Ft()),Dt=h.a.div(Tt(),"#6ab6ec",function(t){return t.active?"#6ab6ec":"white"},"#6ab6ec"),At=function(t){function e(t){var n;return Object(u.a)(this,e),(n=Object(s.a)(this,Object(p.a)(e).call(this,t))).componentDidMount=function(){n.props.getTasks(Object(m.a)({},n.state))},n.shouldComponentUpdate=function(){return n.props.loading},n.getPagination=function(t){for(var e=Math.ceil(t/3),a=n.state.page,r=[],o=1;o<=e;o++)r.push({number:o,active:o===a});return c.a.createElement(_t,null,r.map(function(t){return n.renderPageButton(t)}))},n.renderPageButton=function(t){var e=t.number,a=t.active;return c.a.createElement(Dt,{active:a,onClick:n.onPageClick(e),key:e},e)},n.onPageClick=function(t){return function(){var e=n.state,a=e.sortDirection,r=e.sortField;n.setState({page:t}),n.props.setFilterOptions({page:t}),n.props.getTasks({sortDirection:a,page:t,sortField:r})}},n.onFilterChange=function(t){n.setState(t),n.props.setFilterOptions(t)},n.state=n.props.filterOptions,n}return Object(d.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this.props,e=t.tasks,n=t.totalTaskCount;return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ct,{onFilterChange:this.onFilterChange,getTasks:this.props.getTasks,sortDirection:this.state.sortDirection,sortField:this.state.sortField,page:this.state.page}),e.map(function(t){return c.a.createElement(xt,{record:t,key:t.id})}),this.getPagination(n))}}]),e}(r.Component),Rt=Object(b.b)(function(t){return{tasks:M(t),totalTaskCount:Q(t),loading:V(t),filterOptions:X(t)}},{getTasks:U,setFilterOptions:K})(At);function zt(){var t=Object(g.a)(["\n  position: absolute;\n  color: red;\n  font-family: sans-serif;\n  top: 45px;\n  left: 350px;\n"]);return zt=function(){return t},t}function Pt(){var t=Object(g.a)(["\n  margin: 0 0 15px;\n  width: 200px;\n  height: 20px;\n  font-size: 1em;\n  padding: 0 10px;\n"]);return Pt=function(){return t},t}function Bt(){var t=Object(g.a)(["\n  display: inline-block;\n  margin: 0 0 10px;\n  width: 60px;\n"]);return Bt=function(){return t},t}function It(){var t=Object(g.a)(["\n  display: block;\n  margin: 0 0 5px 0;\n"]);return It=function(){return t},t}function Ut(){var t=Object(g.a)(["\n  margin: 0 0 15px;\n  font-size: 1.5em;\n  font-weight: 400;\n"]);return Ut=function(){return t},t}function Kt(){var t=Object(g.a)(["\n  padding: 0 25px 15px;\n  margin: 0 10px;\n  position: relative;\n"]);return Kt=function(){return t},t}var Nt=/(?:[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/,Gt=h.a.fieldset(Kt()),Jt=h.a.legend(Ut()),Lt=h.a.label(It()),Mt=h.a.div(Bt()),Qt=h.a.input(Pt()),Vt=h.a.div(zt()),Xt=function(t){function e(){var t,n;Object(u.a)(this,e);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(s.a)(this,(t=Object(p.a)(e)).call.apply(t,[this].concat(r)))).state={data:{username:"",email:"",text:""},error:!1},n.handleSubmit=function(t){t.preventDefault();var e=n.state.data,a=e.username,r=e.email,c=e.text;a&&r&&c?r.match(Nt)?(n.setState({error:!1}),n.onSubmit({username:a,email:r,text:c})):n.setState({error:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u043b\u0438\u0434\u043d\u044b\u0439 \u0430\u0434\u0440\u0435\u0441"}):n.setState({error:"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u043e\u043b\u044f"})},n.handleChange=function(t){n.setState({data:Object(m.a)({},n.state.data,Object(f.a)({},t.target.name,t.target.value))})},n.onSubmit=function(t){n.props.onSubmit(t)},n}return Object(d.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return c.a.createElement("form",null,c.a.createElement(Gt,null,c.a.createElement(Jt,null,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u0443\u044e \u0437\u0430\u0434\u0430\u0447\u0443"),c.a.createElement(Lt,{name:"username"},c.a.createElement(Mt,null,"\u0410\u0432\u0442\u043e\u0440:"),c.a.createElement(Qt,{name:"username",type:"text",placeholder:this.state.username,onChange:this.handleChange})),c.a.createElement(Lt,{name:"email"},c.a.createElement(Mt,null,"Email:"),c.a.createElement(Qt,{name:"email",type:"email",placeholder:this.state.email,onChange:this.handleChange})),c.a.createElement(Lt,{name:"text"},c.a.createElement(Mt,null,"\u0422\u0435\u043a\u0441\u0442:"),c.a.createElement(Qt,{name:"text",type:"text",placeholder:this.state.text,onChange:this.handleChange})),this.state.error&&c.a.createElement(Vt,null,this.state.error),c.a.createElement(x,{type:"submit",onClick:this.handleSubmit},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c")))}}]),e}(r.Component),$t=Object(b.b)(null,{createTask:N})(Xt),qt=function(t){function e(){return Object(u.a)(this,e),Object(s.a)(this,Object(p.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(ut,null),c.a.createElement($t,{onSubmit:this.props.createTask}),c.a.createElement(Rt,null))}}]),e}(r.Component),Ht=n(48),Wt=n(190),Yt={tasks:a},Zt=j.a.mark(oe),te=function(t){return Object.keys(t).reduce(function(e,n){var a=t[n].default,r=t[n].saga;return a&&"function"===typeof a&&(e.reducers[n]=a),r&&"function"===typeof r&&(e.sagas[n]=r()),e},{reducers:{},sagas:{}})}(Yt),ee=te.reducers,ne=te.sagas,ae=Object(Ht.c)(Object(m.a)({},ee)),re=Object(Wt.a)(),ce=[re];function oe(){return j.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(E.a)(ne);case 2:case"end":return t.stop()}},Zt)}var ie=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Ht.d,ue=Object(Ht.e)(ae,ie(Ht.a.apply(void 0,ce)));re.run(oe);var le=ue;i.a.render(c.a.createElement(function(){return c.a.createElement(b.a,{store:le},c.a.createElement(qt,null))},null),document.getElementById("root"))},45:function(t){t.exports={a:"task-service-test"}}},[[192,1,2]]]);
//# sourceMappingURL=main.5513a6c4.chunk.js.map